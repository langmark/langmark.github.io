(function(){this.Hisogram=function(){function t(t,n){var e,r;null==n&&(n=""),this.options={title:n,width:"100%",height:400,chartArea:{width:"85%",height:"80%"},legend:{position:"none"},backgroundColor:"#eee",animation:{duration:500},tooltip:{isHtml:!0},logScale:!1},this.views=[];for(e in t)r=t[e],this.views[e]=r}return t.prototype.options=null,t.prototype.chart=null,t.prototype.views=null,t.prototype.currentView=null,t.prototype.setContainer=function(t){var n,e,r;return this.currentView=0,n=$("<div>"),r=$("<button>").addClass("btn btn-success btn-xs").text("Hide slow"),r.click(function(t){return function(){return r.toggleClass("btn-success").toggleClass("btn-primary"),0===t.currentView?(r.text("Show slow"),t.draw(1)):(r.text("Hide slow"),t.draw(0))}}(this)),e=$("<button>").addClass("btn btn-success btn-xs").text("Log scale"),e.click(function(t){return function(){return e.toggleClass("btn-success").toggleClass("btn-primary"),t.options.logScale?(e.text("Log scale"),t.options.logScale=0,t.draw(t.currentView)):(e.text("Liner scale"),t.options.logScale=1,t.draw(t.currentView))}}(this)),t.append(r),t.append(e),t.append(n),this.chart=new google.visualization.ColumnChart(n[0])},t.prototype.draw=function(t){return null==t&&(t=0),this.chart.draw(this.views[t],this.options),this.currentView=t},t}(),this.Lang=function(){function t(t){this.times=t}return t.prototype.times=[],t.prototype.getMin=function(){var t,n,e,r,o;for(t=1/0,o=this.times,e=0,r=o.length;r>e;e++)n=o[e],t=Math.min(t,n.time);return t},t.prototype.getAverage=function(){var t,n,e,r,o;for(o=0,r=this.times,n=0,e=r.length;e>n;n++)t=r[n],o+=t.time;return o/this.times.length},t.prototype.getRow=function(t,n,e){var r,o,i,a,s,l,u;for(l=this.times.filter(function(t){return t.time<e}),s=(n-l.length)/2|0,a=[t],r=o=0,i=n;i>=0?i>o:o>i;r=i>=0?++o:--o)s>r||r>=s+l.length?a.push([0,""]):(u="<div class='column-tooltip'> <h1>"+l[r-s].name+"</h1> <dl> <dt>Version</dt> <dd>"+l[r-s].version.replace("\n","<br>")+"</dd> <dt>Time</dt> <dd>"+l[r-s].time.toFixed(3)+"</dd> </dl>",a.push([1e3*l[r-s].time|0,u]));return a},t}(),this.Test=function(){function t(t,n){var e,r;this.name=t;for(e in n)r=n[e],r.length>0&&(this.langs[e]=new Lang(r));this.chart=this.getHistogram()}return t.prototype.name="",t.prototype.langs={},t.prototype.chart=null,t.prototype.getAverage=function(){var t,n,e,r,o;r=0,n=0,e=this.langs;for(t in e)o=e[t],r+=o.getAverage(),n++;return r/n},t.prototype.getHistogram=function(){var t;return t=[this.getChartData(!1),this.getChartData(!0)],new Hisogram(t)},t.prototype.getColsNumber=function(){var t,n,e,r;n=0,e=this.langs;for(t in e)r=e[t],n=Math.max(n,r.times.length);return n},t.prototype.getChartData=function(t){var n,e,r,o,i,a,s,l,u,h,p,c,d;for(null==t&&(t=!1),i=new google.visualization.DataTable,r=this.getColsNumber(),i.addColumn("string","Language"),a=s=0,h=r;h>=0?h>s:s>h;a=h>=0?++s:--s)i.addColumn("number",""),i.addColumn({type:"string",role:"tooltip",p:{html:!0}});e=t?this.getAverage():1/0,o=[],p=this.langs;for(l in p)d=p[l],(t===!1||d.getMin()<e)&&o.push(d.getRow(l,r,e));o=o.sort(function(t,n){var e,r,o,i,s,l;for(o=i=1/0,a=e=1,s=t.length;s>=1?s>e:e>s;a=s>=1?++e:--e)t[a][0]&&(o=Math.min(o,t[a][0]));for(a=r=1,l=n.length;l>=1?l>r:r>l;a=l>=1?++r:--r)n[a][0]&&(i=Math.min(i,n[a][0]));return o-i}),u=[];for(n in o)c=o[n],u.push([].concat.apply([],c));return i.addRows(u),i},t}(),this.Table=function(){function t(t,n){this.lang=t,this.buildData(n)}return t.prototype.lang=null,t.prototype.data=null,t.prototype.buildData=function(t){var n,e,r,o,i,a;this.data={},i=[];for(a in t)o=t[a],r=o[this.lang],r&&i.push(function(){var t,o,i;i=[];for(e in r)n=r[e],null==(t=this.data)[o=n.name]&&(t[o]={}),i.push(this.data[n.name][a]=n.time);return i}.call(this));return i},t.prototype.getTests=function(){var t,n,e,r,o;e={},n=this.data;for(t in n){o=n[t];for(r in o)e[r]=1}return Object.keys(e).sort()},t}(),this.Analyzer=function(){function t(t,n){this.filename=t,this.name=n,this.analyzed=!1,this.tests={},this.tables={}}return t.prototype.filename=null,t.prototype.name=null,t.prototype.data=null,t.prototype.analyzed=null,t.prototype.tests=null,t.prototype.tables=null,t.prototype.loadData=function(t,n,e){return null==n&&(n=!0),this.analyzed&&e?e():t.get(this.filename).then(function(t){return function(r){return t.data=r.data,n&&t.analyze(),e?e():void 0}}(this))},t.prototype.analyze=function(){var t,n,e;if(!this.analyzed){console.log("Analysis of "+this.filename+" started"),n=this.data;for(e in n)t=n[e],this.tests[e]=new Test(e,t);return this.analyzed=!0}},t.prototype.draw=function(){return this.drawChart(),this.drawTable()},t.prototype.drawChart=function(){var t,n,e,r,o,i;$("#container").empty(),r=Object.keys(this.tests).sort(),o=[];for(t in r)i=r[t],e=this.tests[i],n=$("<div>").attr("id",i),n.append(this.getTitle(i)),$("#container").append(n),e.chart.setContainer(n),e.chart.draw(0),o.push($("#container").append("<br>"));return o},t.prototype.drawTable=function(){var t,n,e,r;e=this.getLangs(),r=[];for(t in e)n=e[t],r.push(this.tables[n]=new Table(n,this.data));return r},t.prototype.getLangs=function(){var t,n,e,r,o;r={},e=this.data;for(o in e){n=e[o];for(t in n)r[t]=1}return Object.keys(r).sort()},t.prototype.getTitle=function(t){var n;return n=$('<a href="#">'),n.text(t),n.click(function(n){return function(){return $.ajax({url:"https://raw.githubusercontent.com/langmark/langmark/master/"+t+"/README.md",dataType:"text",success:function(n){return $(".modal-body").html(marked(n)),$(".modal-title").text(t),$("#modal").modal()},error:function(){return $(".modal-body").html("<em>No description available...</em>"),$(".modal-title").text(t),$("#modal").modal()}})}}(this)),$("<h2>").append(n)},t}()}).call(this);